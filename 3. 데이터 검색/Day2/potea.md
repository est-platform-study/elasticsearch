# 엘라스틱서치 실무가이드

## 06 고급 검색
- 한글 형태소 분석기 사용하기
- 검색 결과 하이라이트하기
- 스크립팅을 이용해 동적으로 필드 추가하기
- 검색 템플릿을 이용한 동적 쿼리 제공
- 별칭을 이용해 항상 최신 인덱스 유지하기
- 스냅숏을 이용한 백업과 복구

### 한글 형태소 분석기 사용하기
- 은전한닢 형태소 분석기
    - [블로그](http://eunjeon.blogspot.com/)
    - [소스코드](https://bitbucket.org/eunjeon/seunjeon)
- Nori 형태소 분석기
    - 루씬에서 공식적으로 지원 
    - [사이트](http://lucene.apache.org/core)
- 트위터 형태소 분석기
    - 트위터에서 한글을 처리하기 위해 개발
    - [소스코드](https://github.com/open-korean-text/elasticsearch-analysis-openkoreantext)

### 검색 결과 하이라이트하기
- 웹상에서 출력할 때 사용자가 입력한 검색어를 강조하는 기능

### 스크립팅을 이용해 동적으로 필드 추가하기
- 스크립트를 이용해 사용자가 특정 로직을 삽입하는 것이 가능하다.
    1. config 폴더에 스크립팅 저장
    2. In-requests 방식: 동적 스크립팅 API 호출시 코드 내에 스크립트를 직접 지정
- 스크립팅 전용 언어 Painless
- _update API와 함께 사용

### 검색 템플릿을 이용한 동적 쿼리 제공
- 복잡한 검색 로직을 템플릿으로 저장하고 활용할 수 있다.
- 검색 템플릿은 Mustache라는 템플릿 엔진을 사용해서 표현

### 별칭을 이용해 항상 최신 인덱스 유지하기
- 인덱스 변경에 대응 가능
- 멀티테넌시 형태를 하나의 인덱스처럼 만들어서 관리
- 색인을 다시 만드는 경우에 더 많이 활용

### 스냅숏을 이용한 백업과 복구
- 스냅숏 기능을 이용해 개별 인덱스를 백업할 수도 있고 클러스터 전체를 스냅숏으로 만드는 것도 가능
    1. 리포지토리 생성: 스냅숏들을 저장하는 논리적인 공간
    2. 스냅숏 생성: 스냅숏 대상이 되는 인덱스는 더 이상 변경이 없는 인덱스


## 07 한글 검색 확장 기능
- Suggest API 소개
- 맞춤법 검사기
- 한글 키워드 자동완성
- 자바카페 플러그인

### Suggest API 소개
- 검색엔진의 특성상 분리된 텀과 완전히 일치하지 않으면 검색 결과로 제공되지 않음
- 도큐먼트 내에 존재하는 단어를 대상으로 비슷한 키워드를 변경해서 제시하는 기능

#### Suggest API
- Term Suggest API: 추천 단어 제안
- Completion Suggest API: 자동완성 제안
- Phrase Suggest API: 추천 문장 제안
- Context Suggest API: 추천 문맥 제안

### 맞춤법 검사기

### 한글 키워드 자동완성

### 자바카페 플러그인
